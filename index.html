<!doctype html>
<html>
	<head>
		<title>Nadir.LIVE</title>
		<link rel="shortcut icon" href="files/images/Festival Logo.png" type="image.x-icon"/>
		<link href="files/style/main.css" rel="stylesheet" type="text/css">
		<link href="files/css/home.css" rel="stylesheet" type="text/css">
		
		<script src="https://code.createjs.com/createjs-2015.11.26.min.js"></script>
		<script src="files/script/Logo.js"></script>
		<script src="files/script/Logo2.js"></script>
		<script>
		var canvas, stage, exportRoot, anim_container, dom_overlay_container, fnStartAnimation;
		function init() {
			canvas = document.getElementById("LoadingCanvas");
			anim_container = document.getElementById("animation_container2");
			dom_overlay_container = document.getElementById("dom_overlay_container2");
			var comp=AdobeAn.getComposition("59F69A283861754D858C9F1EE71084E5");
			var lib=comp.getLibrary();
			handleComplete({},comp);
		}
		function handleComplete(evt,comp) {
			//This function is always called, irrespective of the content. You can use the variable "stage" after it is created in token create_stage.
			var lib=comp.getLibrary();
			var ss=comp.getSpriteSheet();
			exportRoot = new lib.Logo();
			stage = new lib.Stage(canvas);	
			//Registers the "tick" event listener.
			fnStartAnimation = function() {
				stage.addChild(exportRoot);
				createjs.Ticker.setFPS(lib.properties.fps);
				createjs.Ticker.addEventListener("tick", stage);
			}	    
			//Code to support hidpi screens and responsive scaling.
			function makeResponsive(isResp, respDim, isScale, scaleType) {		
				var lastW, lastH, lastS=1;		
				window.addEventListener('resize', resizeCanvas);		
				resizeCanvas();		
				function resizeCanvas() {			
					var w = lib.properties.width, h = lib.properties.height;			
					var iw = window.innerWidth, ih=window.innerHeight;			
					var pRatio = window.devicePixelRatio || 1, xRatio=iw/w, yRatio=ih/h, sRatio=1;			
					if(isResp) {                
						if((respDim=='width'&&lastW==iw) || (respDim=='height'&&lastH==ih)) {                    
							sRatio = lastS;                
						}				
						else if(!isScale) {					
							if(iw<w || ih<h)						
								sRatio = Math.min(xRatio, yRatio);				
						}				
						else if(scaleType==1) {					
							sRatio = Math.min(xRatio, yRatio);				
						}				
						else if(scaleType==2) {					
							sRatio = Math.max(xRatio, yRatio);				
						}			
					}			
					canvas.width = w*pRatio*sRatio;			
					canvas.height = h*pRatio*sRatio;
					canvas.style.width = dom_overlay_container.style.width = anim_container.style.width =  w*sRatio+'px';				
					canvas.style.height = anim_container.style.height = dom_overlay_container.style.height = h*sRatio+'px';
					stage.scaleX = pRatio*sRatio;			
					stage.scaleY = pRatio*sRatio;			
					lastW = iw; lastH = ih; lastS = sRatio;            
					stage.tickOnUpdate = false;            
					stage.update();            
					stage.tickOnUpdate = true;		
				}
			}
			makeResponsive(false,'both',false,1);	
			AdobeAn.compositionLoaded(lib.properties.id);
			fnStartAnimation();
		}
		</script>
	</head>
	<body onload="init();">
		<header>
		</header>
		<main height="100%" width="100%">
			<div style="position:fixed; font-size: 20px; color:#555555;">Page might break as this is a very early concept</div>
			<div id="loading" style="background-color:rgba(255, 255, 255, 0.00); width:445px; height:427px">
				<div id="animation_container2" style="background-color:rgba(255, 255, 255, 0.00); width:445px; height:427px">
					<canvas id="LoadingCanvas" width="445" height="427" style="position: absolute; display: block; background-color:rgba(255, 255, 255, 0.00);"></canvas>
					<div id="dom_overlay_container2" style="pointer-events:none; overflow:hidden; position: absolute; left: 0px; top: 0px;">
					</div>
					<script id="deleteME">
							//function to check for canvas support
							function CanvasSupport(){
							  var elem = document.createElement('canvas')
							  return !!(elem.getContext && elem.getContext('2d'))
							}

							//check page for support
							if(!CanvasSupport())
								{
									//redirect to legacy page
								}

							//remove script
							document.getElementById("deleteME").remove()
					</script>
			  </div>
				<script>
					//check if page is loaded
					document.getElementById("loading").remove();
				</script>
			</div>
			<div id="centerBoth">
				<h1 id="centerBoth2" style="z-index:1000;">Nadir.LIVE</h1>
			</div>
			<div id="animation_container" style="background-color:rgba(255, 255, 255, 0.00); width:445px; height:427px">
			<script>
				var canvas, stage, exportRoot, anim_container, dom_overlay_container, fnStartAnimation;
				function init() {
					canvas = document.getElementById("canvas");
					anim_container = document.getElementById("animation_container");
					dom_overlay_container = document.getElementById("dom_overlay_container");
					var comp=AdobeAn.getComposition("59F69A283861754D858C9F1EE71084E5");
					var lib=comp.getLibrary();
					handleComplete({},comp);
				}
				function handleComplete(evt,comp) {
					//This function is always called, irrespective of the content. You can use the variable "stage" after it is created in token create_stage.
					var lib=comp.getLibrary();
					var ss=comp.getSpriteSheet();
					exportRoot = new lib.Logo();
					stage = new lib.Stage(canvas);	
					//Registers the "tick" event listener.
					fnStartAnimation = function() {
						stage.addChild(exportRoot);
						createjs.Ticker.setFPS(lib.properties.fps);
						createjs.Ticker.addEventListener("tick", stage);
					}	    
					//Code to support hidpi screens and responsive scaling.
					function makeResponsive(isResp, respDim, isScale, scaleType) {		
						var lastW, lastH, lastS=1;		
						window.addEventListener('resize', resizeCanvas);		
						resizeCanvas();		
						function resizeCanvas() {			
							var w = lib.properties.width, h = lib.properties.height;			
							var iw = window.innerWidth, ih=window.innerHeight;			
							var pRatio = window.devicePixelRatio || 1, xRatio=iw/w, yRatio=ih/h, sRatio=1;			
							if(isResp) {                
								if((respDim=='width'&&lastW==iw) || (respDim=='height'&&lastH==ih)) {                    
									sRatio = lastS;                
								}				
								else if(!isScale) {					
									if(iw<w || ih<h)						
										sRatio = Math.min(xRatio, yRatio);				
								}				
								else if(scaleType==1) {					
									sRatio = Math.min(xRatio, yRatio);				
								}				
								else if(scaleType==2) {					
									sRatio = Math.max(xRatio, yRatio);				
								}			
							}			
							canvas.width = w*pRatio*sRatio;			
							canvas.height = h*pRatio*sRatio;
							canvas.style.width = dom_overlay_container.style.width = anim_container.style.width =  w*sRatio+'px';				
							canvas.style.height = anim_container.style.height = dom_overlay_container.style.height = h*sRatio+'px';
							stage.scaleX = pRatio*sRatio;			
							stage.scaleY = pRatio*sRatio;			
							lastW = iw; lastH = ih; lastS = sRatio;            
							stage.tickOnUpdate = false;            
							stage.update();            
							stage.tickOnUpdate = true;		
						}
					}
					makeResponsive(false,'both',false,1);	
					AdobeAn.compositionLoaded(lib.properties.id);
					fnStartAnimation();
				}
				init();
				</script>
				<canvas id="canvas" width="445" height="427" style="position: absolute; display: block; background-color:rgba(255, 255, 255, 0.00);"></canvas>
				<div id="dom_overlay_container" style="pointer-events:none; overflow:hidden; width:445px; height:427px; position: absolute; left: 0px; top: 0px; display: block;">
				</div>
			</div>
		</main>
		<footer>

		</footer>
    </body>
</html>